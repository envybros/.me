---
title: "그래프-BFS"
categories: [Algorithm 연구소]
tags: [Algorithm]
date: 2023-09-23 02:30
math: true
img_path: /assets/img/algorithm/
---

---

![Title](algorithm_title.png)

---

## **개요**

트리와 마찬가지로, 많은 그래프 문제에서 DFS를 사용하든 BFS를 사용하든 크게 중요하지 않으며, 특히 재귀적으로 구현하는 것이 더 빠르고 깔끔하기 때문에 DFS가 BFS보다 성능이 더 좋은 시나리오는 거의 없습니다. 이전 예제에서 살펴본 모든 문제는 BFS로 해결할 수 있습니다.

하지만 BFS를 사용하는 것이 DFS를 사용하는 것보다 분명히 더 나은 몇 가지 문제가 있습니다. 트리에서는 트리 레벨을 고려할 때 이런 경우가 있습니다. 그래프에서는 최단 경로를 찾아야 하는 경우가 대부분입니다.

이진 트리에서 BFS는 깊이 d에 있는 모든 노드를 방문한 다음 깊이 d + 1에 있는 노드를 방문한다는 점을 기억하세요. BFS는 루트와의 거리에 따라 노드를 방문합니다.

99%의 경우 그래프에는 트리 구조가 없습니다. 하지만 이 경우에도 동일한 논리가 적용됩니다. 어떤 노드에서 시작하든 "루트"라고 상상해 보세요. 그런 다음 루트의 이웃 노드는 다음 레벨을 나타내고, 그 노드의 이웃 노드는 그 이후의 레벨을 나타냅니다.

그래프의 BFS는 항상 시작점으로부터의 거리에 따라 노드를 방문합니다. 노드를 방문할 때마다 BFS를 시작한 위치에서 가능한 최소한의 단계로 노드에 도달해야 한다는 것이 그래프 상의 BFS의 핵심 아이디어입니다.

> 루트에서 모든 노드까지 가능한 경로는 하나뿐이기 때문에 DFS를 수행하더라도 바이너리 트리에서는 항상 위 문장이 해당됩니다. 그래프에서는 주어진 시작점에서 다른 노드까지 여러 경로가 있을 수 있습니다. BFS를 사용하면 가능한 모든 경로 중에서 가장 짧은 경로를 선택하게 됩니다.
{: .prompt-general }

우리는 주로 내부적으로 스택을 사용하는 재귀를 통해 DFS를 구현했습니다. BFS를 구현하기 위해 대신 큐를 (반복적으로) 사용할 것입니다.

---

> **예제 1**: [이진 행렬의 최단 경로]
>
> n x n 이진 행렬 `grid`가 주어졌을 때, 행렬에서 가장 짧은 명확한 경로의 길이를 반환합니다. 명확한 경로가 없으면 -1을 반환합니다. 빈 경로는 왼쪽 위 셀 (0, 0 )에서 오른쪽 아래 셀 (n - 1, n - 1) 까지 방문한 모든 셀이 0이 되는 경로입니다. 8방향(위, 아래, 왼쪽, 오른쪽, 대각선)으로 이동할 수 있습니다.
{: .prompt-general }

행렬을 각 사각형이 노드이고 모든 사각형이 인접한 사각형과 최대 8개의 가장자리를 갖는 그래프로 취급할 수 있습니다(가장자리의 사각형은 잠재적 이웃이 범위를 벗어날 수 있기 때문에 최대 8개까지만 해당). 행렬에는 많은 경로가 있을 수 있지만, 우리는 가장 짧은 경로를 원합니다. 순회를 사용하면 효율성뿐만 아니라 사이클을 피하기 위해 각 사각형을 최대 한 번만 방문하고 싶다는 점을 기억하세요. DFS를 수행하면 최단 경로를 찾지 못할 수도 있습니다. 다음 예제를 살펴보겠습니다:

![graph_bfs](graph_bfs.png)

화살표로 표시된 경로가 최적 경로(사각형 7개)이고 빨간색 경로가 DFS를 사용할 경우 발생할 수 있는 경로(사각형 11개)입니다. 보시다시피 빨간색 경로가 더 길고 최적 경로의 사각형도 "사용"하므로 이 알고리즘에서는 정답이 나오지 않습니다. 최단 경로를 찾으려면 BFS를 사용해야 합니다. BFS를 사용하면 노드를 방문할 때마다 가능한 한 최소한의 단계로 노드에 도달할 수 있습니다. 다음 예시를 참조하세요:

> 
{: .prompt-general }


---

출처: [Leetcode](https://leetcode.com/explore/interview/card/leetcodes-interview-crash-course-data-structures-and-algorithms/707/traversals-trees-graphs/4626/)

<!--

{: .prompt-general }

-->