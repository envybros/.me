---
title: "0.9 - 컴파일러 구성: 빌드 구성하기"
categories: [C++ 배움터, 0. C++ 시작하기]
tags: [c++]
date: 2023-05-01 01:10
img_path: /assets/img/cpp/00/
---

> [0.9 — Configuring your compiler: Build configurations](https://www.learncpp.com/cpp-tutorial/configuring-your-compiler-build-configurations/){:target="_blank"}
{: .prompt-warning }

**빌드 구성**(**빌드 타겟**이라고도 함)은 IDE가 프로젝트를 빌드하는 방법을 결정하는 프로젝트 설정 모음입니다. 빌드 구성에는 실행 파일의 이름, IDE가 사용할 외부 코드 및 라이브러리 파일의 디렉터리, 디버깅 정보를 유지 또는 제거할지 여부, 컴파일러가 프로그램을 얼마만큼 최적화할지 여부 등이 포함됩니다. 특별한 이유가 없는 한 이 설정들은 기본값 그대로 두는 편이 좋습니다.

대부분의 IDE에서는 두 가지 빌드 구성, 디버그 구성과 릴리스 구성이 있습니다.

**디버그 구성**은 프로그램을 디버깅하는 데 도움이 되도록 설계되었으며, 프로그램을 작성할 때 사용하는 구성입니다. 이 구성은 모든 최적화 기능을 비활성화하고 디버깅 정보를 제공하므로 프로그램 크기가 커지고 속도가 느려지는 대신 디버깅이 훨씬 쉬워집니다. 대체로 기본값(활성 구성)으로 디버그 구성이 선택됩니다. 디버깅 기법에 대해서는 나중에 자세히 설명하겠습니다.

**릴리스 구성**은 프로그램을 공개적으로 출시할 때 사용하도록 설계되었습니다. 이 구성은 크기와 성능이 최적화되어 있으며 별도의 디버깅 정보는 포함되지 않습니다. 릴리스 구성에는 모든 최적화가 포함되어 있기 때문에, 이 모드는 코드의 성능(performance)을 테스트하는 데 매우 유용합니다 (튜토리얼 시리즈의 뒷부분에서 어떻게 하는지 보여드리겠습니다).

_Hello World_ 프로그램([0.7 - 첫 번째 프로그램 컴파일하기](2023-04-29-0.7-compiling-your-first-program.md))을 Visual Studio를 사용하여 빌드할 때, 디버그 구성에서 빌드된 실행 파일은 65KB인 반면 릴리스 버전에서 빌드된 실행 파일은 12KB입니다. 디버그 빌드는 추가 디버깅 정보가 포함되기 때문에 이러한 차이가 발생하는 것입니다.

사용자가 직접 커스텀 빌드 구성을 만들 수도 있지만, 다양한 컴파일러 설정을 사용하여 만든 여러 빌드들을 비교하려는 목적이 아니라면 굳이 그렇게 할 필요는 없을 것입니다.

> **모범 사례**
> 
> 프로그램을 개발할 때는 _디버그_ 빌드 구성을 사용하세요. 그리고 실행 파일을 배포할 준비가 되었거나 성능을 테스트하려는 경우 _릴리스_ 빌드 구성을 사용하세요.
{: .prompt-tip }

일부 IDE는 다른 플랫폼을 위한 별도의 빌드 구성을 제공합니다. 예를 들어 Visual Studio는 x86(32비트) 및 x64(64비트) 플랫폼 모두에 대한 빌드 구성을 제공합니다.

## **빌드 구성 간 전환하기**

> **Visual Studio 사용자의 경우**
> 
> Visual Studio에서 *디버그*와 _릴리스_ 사이를 전환하는 방법에는 여러 가지가 있습니다. 가장 쉬운 방법은 *표준 도구 모음 옵션*의 _솔루션 구성_ 드롭다운에서 직접 항목을 선택하는 것입니다:
> 
> ![vs_debug_option](vs_debug_option.png)
> 
> 지금은 *디버그*로 설정하세요.
> 
> *[빌드] > [구성 관리자]*를 선택하여 구성 관리자 대화 상자에 액세스하여 *활성 솔루션 구성*을 바꿀 수도 있습니다.
> 
> Visual Studio에는 _솔루션 구성_ 드롭다운의 오른쪽에 x86(32비트) 및 x64(64비트) 플랫폼 간에 전환할 수 있는 _솔루션 플랫폼_ 드롭다운도 있습니다.
{: .prompt-warning }

> **Code::Blocks 사용자의 경우**
> 
> Code::Blocks의 *컴파일러 툴바*에서 *Build Target*이라는 항목을 볼 수 있습니다:
> 
> ![code_blocks_debug_option](code_blocks_debug_option.png)
> 
> 지금은 *디버그*로 설정하세요.
{: .prompt-warning }

> **GCC/G++ 사용자의 경우**
> 
> 디버깅할 때는 명령줄에 `-ggdb`를 추가하고 릴리스 빌드의 경우 `-O2 -DNDEBUG`를 추가하세요. 지금은 전자의 방법을 사용하세요.
{: .prompt-warning }

> **VS Code 사용자의 경우**
> 
> 프로그램을 처음 실행하면 탐색기 창의 _.vscode_ 폴더 아래에 *tasks.json*이라는 새 파일이 만들어집니다. _tasks.json_ 파일을 열고 *"args"*를 찾은 다음 해당 섹션에서 _"${file}"_ 줄을 찾습니다.
> 
> 디버깅 시 "${file}" 줄 위에 아래 명령어가 포함된 새 줄을 추가하세요:  
> `"-ggdb","`
>
> 디버깅 시 "${file}" 줄 위에 아래 명령어가 포함된 새 줄을 추가하세요 (한 줄에 하나씩):  
> `"-O2",`  
> `"-DNDEBUG",`
{: .prompt-warning }

## **빌드 구성 편집하기**

다음 단원에서는 빌드 구성에서 일부 설정을 조정하는 방법을 보여드릴 것입니다. 프로젝트 설정을 변경할 때마다, 해당 변경 사항을 모든 빌드 구성에 적용하는 것이 좋습니다.

그렇게 하면 잘못된 빌드 구성으로 변경하는 것을 방지할 수 있고, 나중에 빌드 구성을 전환하는 경우에도 변경 사항이 계속 적용되도록 할 수 있습니다.

> **Tip**
> 
> 프로젝트 설정을 업데이트할 때마다 (특별한 이유가 없는 한) 모든 빌드 구성에 해당 변경 사항들을 적용하세요.
{: .prompt-info }
